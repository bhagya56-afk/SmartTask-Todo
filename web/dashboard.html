<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SmartTask student dashboard - manage your tasks efficiently">
    <title>SmartTask - Student Dashboard</title>
    <link rel="stylesheet" href="dashboard-style.css">
</head>
<body>
<!-- Navigation Header -->
<header class="dashboard-header">
    <div class="header-content">
        <div class="logo-section">
            <a href="#" class="logo">SmartTask</a>
            <span class="welcome-text">Welcome back, <strong id="userName">Student</strong></span>
        </div>
        <div class="header-actions">
            <div class="notification-bell">🔔</div>
            <div class="profile-dropdown">
                <div class="profile-avatar" id="userAvatar">JD</div>
                <div class="dropdown-menu">
                    <a href="profile.html">Profile</a>
                    <a href="settings.html">Settings</a>
                    <a href="#" id="logoutBtn">Logout</a>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Main Dashboard Container -->
<div class="dashboard-container">
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <nav class="sidebar-nav">
            <div class="nav-section">
                <h3>Dashboard</h3>
                <ul>
                    <li><a href="#" class="nav-link active" data-tab="overview">📊 Overview</a></li>
                    <li><a href="#" class="nav-link" data-tab="all-tasks">📝 All Tasks</a></li>
                    <li><a href="#" class="nav-link" data-tab="planner">📅 Planner</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3>Categories</h3>
                <ul>
                    <li><a href="#" class="nav-link" data-tab="study">📚 Study</a></li>
                    <li><a href="#" class="nav-link" data-tab="Assignments">🖋️ Assignments</a></li>
                    <li><a href="#" class="nav-link" data-tab="lab">🧪 Lab Work</a></li>
                    <li><a href="#" class="nav-link" data-tab="project">🗃️ Project</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3>History</h3>
                <ul>
                    <li><a href="#" class="nav-link" data-tab="completed">✅ Completed</a></li>
                    <li><a href="#" class="nav-link" data-tab="archived">📦 Archived</a></li>
                </ul>
            </div>
        </nav>
    </aside>

    <!-- Main Content Area -->
    <main class="main-content">
        <!-- Overview Tab -->
        <div id="overview" class="tab-content active">
            <div class="page-header">
                <h1>Dashboard Overview</h1>
                <button class="btn btn-primary" id="addTaskBtn">+ Add New Task</button>
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">📝</div>
                    <div class="stat-info">
                        <h3 id="stat-total">0</h3>
                        <p>Total Tasks</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">✅</div>
                    <div class="stat-info">
                        <h3 id="stat-completed">0</h3>
                        <p>Completed</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">⏰</div>
                    <div class="stat-info">
                        <h3 id="stat-pending">0</h3>
                        <p>Pending</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">⚡</div>
                    <div class="stat-info">
                        <h3 id="stat-duetoday">0</h3>
                        <p>Due Today</p>
                    </div>
                </div>
            </div>

            <!-- Recent Tasks -->
            <div class="content-section">
                <h2>Recent Tasks</h2>
                <div class="task-list" id="recentTasksList">
                    <div class="no-tasks">
                        <p>Loading tasks...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- All Tasks Tab -->
        <div id="all-tasks" class="tab-content">
            <div class="page-header">
                <h1>All Tasks</h1>
                <div class="header-controls">
                    <select class="filter-select" id="priorityFilter">
                        <option value="all">All Priorities</option>
                        <option value="high">High Priority</option>
                        <option value="medium">Medium Priority</option>
                        <option value="low">Low Priority</option>
                    </select>
                    <button class="btn btn-primary" id="addTaskBtn2">+ Add Task</button>
                </div>
            </div>

            <div class="task-grid" id="allTasksGrid">
                <div class="no-tasks">
                    <p>Loading tasks...</p>
                </div>
            </div>
        </div>

        <!-- Planner Tab -->
        <div id="planner" class="tab-content">
            <div class="page-header">
                <h1>Task Planner</h1>
                <div class="view-toggle">
                    <button class="btn btn-secondary active">Week View</button>
                    <button class="btn btn-secondary">Month View</button>
                </div>
            </div>

            <div class="calendar-container">
                <div class="calendar-header">
                    <button class="nav-btn">←</button>
                    <h3>Calendar View</h3>
                    <button class="nav-btn">→</button>
                </div>
                <div class="calendar-grid">
                    <p style="text-align: center; padding: 40px; color: #64748b;">Calendar view coming soon!</p>
                </div>
            </div>
        </div>
    </main>
</div>

<!-- Add Task Modal -->
<div id="addTaskModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Add New Task</h2>
            <button class="modal-close" id="closeModalBtn">&times;</button>
        </div>
        <form class="task-form" id="taskForm">
            <div class="form-group">
                <label for="taskTitle">Task Title</label>
                <input type="text" id="taskTitle" name="title" required placeholder="Enter task title">
            </div>

            <div class="form-group">
                <label for="taskDescription">Description</label>
                <textarea id="taskDescription" name="description" placeholder="Enter task description (optional)"></textarea>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="taskCategory">Category</label>
                    <select id="taskCategory" name="category" required>
                        <option value="">Select Category</option>
                        <option value="study/Academics">📚 Study/Academics</option>
                        <option value="Assignments">🖋️ Assignments</option>
                        <option value="lab/Practical work">🧪 Lab/Practical work</option>
                        <option value="Projects">🗃️ Projects</option>
                        <option value="Exams">📃 Exams</option>
                        <option value="Events">🔖 Events</option>
                        <option value="Other">📝 Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="taskPriority">Priority</label>
                    <select id="taskPriority" name="priority" required>
                        <option value="">Select Priority</option>
                        <option value="high">🔴 High</option>
                        <option value="medium">🟡 Medium</option>
                        <option value="low">🟢 Low</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="taskDueDate">Due Date</label>
                    <input type="date" id="taskDueDate" name="dueDate" required>
                </div>
                <div class="form-group">
                    <label for="taskDueTime">Due Time</label>
                    <input type="time" id="taskDueTime" name="dueTime">
                </div>
            </div>

            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" id="cancelBtn">Cancel</button>
                <button type="submit" class="btn btn-primary">Add Task</button>
            </div>
        </form>
    </div>
</div>

<!-- External Scripts -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script src="auth-config.js"></script>
<script src="dashboard-script.js"></script>
</body>
</html>